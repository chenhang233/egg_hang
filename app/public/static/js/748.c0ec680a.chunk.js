"use strict";(self.webpackChunkegg_frontend=self.webpackChunkegg_frontend||[]).push([[748],{91693:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(74165),o=t(15861),i=t(29439),c=t(72791),a=t(83734),l=t(4942),u=t(87462),s=t(60732),d=t(81694),f=t.n(d),p=t(41818),m=t(71929),h=t(54466),v=t(12833),y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},x=function(e){var n,t=e.prefixCls,r=e.className,o=e.checked,i=e.onChange,a=e.onClick,s=y(e,["prefixCls","className","checked","onChange","onClick"]),d=(0,c.useContext(m.E_).getPrefixCls)("tag",t),p=f()(d,(n={},(0,l.Z)(n,"".concat(d,"-checkable"),!0),(0,l.Z)(n,"".concat(d,"-checkable-checked"),o),n),r);return c.createElement("span",(0,u.Z)({},s,{className:p,onClick:function(e){null===i||void 0===i||i(!o),null===a||void 0===a||a(e)}}))},C=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Z=new RegExp("^(".concat(h.Y.join("|"),")(-inverse)?$")),g=new RegExp("^(".concat(h.E.join("|"),")$")),b=function(e,n){var t,r=e.prefixCls,o=e.className,a=e.style,d=e.children,h=e.icon,y=e.color,x=e.onClose,b=e.closeIcon,w=e.closable,O=void 0!==w&&w,E=C(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),P=c.useContext(m.E_),k=P.getPrefixCls,j=P.direction,I=c.useState(!0),N=(0,i.Z)(I,2),S=N[0],z=N[1];c.useEffect((function(){"visible"in E&&z(E.visible)}),[E.visible]);var M=function(){return!!y&&(Z.test(y)||g.test(y))},R=(0,u.Z)({backgroundColor:y&&!M()?y:void 0},a),_=M(),T=k("tag",r),A=f()(T,(t={},(0,l.Z)(t,"".concat(T,"-").concat(y),_),(0,l.Z)(t,"".concat(T,"-has-color"),y&&!_),(0,l.Z)(t,"".concat(T,"-hidden"),!S),(0,l.Z)(t,"".concat(T,"-rtl"),"rtl"===j),t),o),B=function(e){e.stopPropagation(),null===x||void 0===x||x(e),e.defaultPrevented||"visible"in E||z(!1)},Q="onClick"in E||d&&"a"===d.type,L=(0,p.Z)(E,["visible"]),$=h||null,D=$?c.createElement(c.Fragment,null,$,c.createElement("span",null,d)):d,U=c.createElement("span",(0,u.Z)({},L,{ref:n,className:A,style:R}),D,O?b?c.createElement("span",{className:"".concat(T,"-close-icon"),onClick:B},b):c.createElement(s.Z,{className:"".concat(T,"-close-icon"),onClick:B}):null);return Q?c.createElement(v.Z,null,U):U},w=c.forwardRef(b);w.CheckableTag=x;var O=w,E=t(87309),P=t(8300),k=t(95048),j=t(4479),I=t(75523),N="permissionManage_root__QbZh-",S=t(12289),z=t(31756),M=t(31776),R=t(80184),_=a.Z.Option,T=function(){var e=(0,j.T)(),n=(0,j.C)((function(e){return e.user.Roles}),k.wU),t=(0,j.C)((function(e){return e.user.routerAuth}),k.wU),l=(0,j.C)((function(e){return e.user.interfaceAuth}),k.wU),u=(0,c.useState)(n.length&&n[0].uuid),s=(0,i.Z)(u,2),d=s[0],p=s[1],m=(0,c.useState)("R"),h=(0,i.Z)(m,2),v=h[0],y=h[1];(0,c.useEffect)((function(){e((0,I.rQ)({condition:"R"}))}),[e]);var x=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(o),t.next=3,e((0,I.rQ)({condition:v,uuid:o,roleP:n}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(o),t.next=3,e((0,I.rQ)({condition:o,uuid:d,roleP:n}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,I.rQ)({condition:v,uuid:d,roleP:n}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){var n=e.type,t=e.Ptype,r=e.uuid,o=e.routerId,i=e.interfaceId,c=e.msg,a=[];switch(t){case"router":(o||0===o)&&("add"===n&&a.push((0,z.WP)({uuid:r,routerId:o})),"remove"===n&&a.push((0,z.GS)({uuid:r,routerId:o})));break;case"interface":(i||0===i)&&("add"===n&&a.push((0,z.IG)({uuid:r,interfaceId:i})),"remove"===n&&a.push((0,z.KP)({uuid:r,interfaceId:i})))}if(0===a.length)return(0,M.vU)("authIndex \u6709\u95ee\u9898");a[0].then((function(e){e&&((0,M.Vp)(c),Z())}))},b=[{title:"uuid",dataIndex:"uuid"},{title:"\u63a5\u53e3\u540d\u5b57",dataIndex:"name"},{title:"\u63a5\u53e3\u6743\u9650",dataIndex:"auth",render:function(e,n){return e?(0,R.jsx)(O,{color:"success",icon:(0,S.$)("CheckCircleOutlined"),children:"\u6709"}):(0,R.jsx)(O,{color:"error",icon:(0,S.$)("CloseCircleOutlined"),children:"\u65e0"})}},{title:"\u63a5\u53e3url",dataIndex:"url"},{title:"\u64cd\u4f5c",render:function(e,n){return n.auth?(0,R.jsx)(E.Z,{type:"primary",danger:!0,hidden:!!n.children,onClick:function(){return g({type:"remove",Ptype:"interface",interfaceId:n.uuid,uuid:d,msg:"\u5220\u9664\u63a5\u53e3\u6743\u9650\u6210\u529f"})},children:"\u5220\u9664\u6743\u9650"}):(0,R.jsx)(E.Z,{type:"primary",hidden:!!n.children,onClick:function(){return g({type:"add",Ptype:"interface",uuid:d,interfaceId:n.uuid,msg:"\u6dfb\u52a0\u63a5\u53e3\u6743\u9650\u6210\u529f"})},children:"\u6dfb\u52a0\u6743\u9650"})}}],w=[{title:"uuid",dataIndex:"uuid"},{title:"\u8def\u7531\u540d\u79f0",dataIndex:"routerName"},{title:"\u8def\u7531id",dataIndex:"rootId"},{title:"\u8def\u7531\u6807\u7b7e",dataIndex:"icon",render:function(e){return(0,S.$)(e)}},{title:"\u8def\u7531\u6743\u9650",dataIndex:"auth",render:function(e,n){return e?(0,R.jsx)(O,{color:"success",icon:(0,S.$)("CheckCircleOutlined"),hidden:!!n.children,children:"\u6709"}):(0,R.jsx)(O,{color:"error",icon:(0,S.$)("CloseCircleOutlined"),hidden:!!n.children,children:"\u65e0"})}},{title:"\u64cd\u4f5c",render:function(e,n){return n.auth?(0,R.jsx)(E.Z,{type:"primary",danger:!0,hidden:!!n.children,onClick:function(){return g({type:"remove",Ptype:"router",uuid:d,routerId:n.uuid,msg:"\u5220\u9664\u8def\u7531\u6743\u9650\u6210\u529f"})},children:"\u5220\u9664\u6743\u9650"}):(0,R.jsx)(E.Z,{type:"primary",hidden:!!n.children,onClick:function(){return g({type:"add",Ptype:"router",uuid:d,routerId:n.uuid,msg:"\u6dfb\u52a0\u8def\u7531\u6743\u9650\u6210\u529f"})},children:"\u6dfb\u52a0\u6743\u9650"})}}];return(0,R.jsxs)("main",{className:f()(N),children:[n.length>0&&(0,R.jsxs)("header",{children:[(0,R.jsx)(a.Z,{showSearch:!0,style:{width:200},placeholder:"\u9009\u62e9\u89d2\u8272",optionFilterProp:"children",filterOption:function(e,n){return n.children.includes(e)},onChange:x,defaultValue:n[0].uuid,children:n.map((function(e){return(0,R.jsx)(_,{value:e.uuid,children:e.roleName},e.uuid)}))}),(0,R.jsxs)(a.Z,{defaultValue:"R",style:{width:120},onChange:C,children:[(0,R.jsx)(_,{value:"R",children:"\u8def\u7531\u6743\u9650"}),(0,R.jsx)(_,{value:"I",children:"\u63a5\u53e3\u6743\u9650"})]}),(0,R.jsx)(E.Z,{type:"primary",onClick:Z,children:"\u91cd\u65b0\u641c\u7d22"})]}),"R"===v?(0,R.jsx)(P.Z,{columns:w,dataSource:t,rowKey:function(e){return e.uuid}}):(0,R.jsx)(P.Z,{columns:b,dataSource:l,rowKey:function(e){return e.uuid}})]})}},24215:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),o=t(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},c=t(54291),a=function(e,n){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:i}))};a.displayName="EyeOutlined";var l=o.forwardRef(a)},49389:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(87462),o=t(4942),i=t(81694),c=t.n(i),a=t(72791),l=t(71929),u=t(91940),s=function(e){var n,t=(0,a.useContext)(l.E_),i=t.getPrefixCls,s=t.direction,d=e.prefixCls,f=e.className,p=void 0===f?"":f,m=i("input-group",d),h=c()(m,(n={},(0,o.Z)(n,"".concat(m,"-lg"),"large"===e.size),(0,o.Z)(n,"".concat(m,"-sm"),"small"===e.size),(0,o.Z)(n,"".concat(m,"-compact"),e.compact),(0,o.Z)(n,"".concat(m,"-rtl"),"rtl"===s),n),p),v=(0,a.useContext)(u.aM),y=(0,a.useMemo)((function(){return(0,r.Z)((0,r.Z)({},v),{isFormItemInput:!1})}),[v]);return a.createElement("span",{className:h,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},a.createElement(u.aM.Provider,{value:y},e.children))},d=t(92438),f=t(29439),p=t(1413),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},h=t(54291),v=function(e,n){return a.createElement(h.Z,(0,p.Z)((0,p.Z)({},e),{},{ref:n,icon:m}))};v.displayName="EyeInvisibleOutlined";var y=a.forwardRef(v),x=t(24215),C=t(41818),Z=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},g={click:"onClick",hover:"onMouseOver"},b=a.forwardRef((function(e,n){var t=(0,a.useState)(!1),i=(0,f.Z)(t,2),u=i[0],s=i[1],p=function(){e.disabled||s(!u)},m=function(t){var i=t.getPrefixCls,l=e.className,s=e.prefixCls,f=e.inputPrefixCls,m=e.size,h=e.visibilityToggle,v=Z(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),y=i("input",f),x=i("input-password",s),b=h&&function(n){var t,r=e.action,i=e.iconRender,c=g[r]||"",l=(void 0===i?function(){return null}:i)(u),s=(t={},(0,o.Z)(t,c,p),(0,o.Z)(t,"className","".concat(n,"-icon")),(0,o.Z)(t,"key","passwordIcon"),(0,o.Z)(t,"onMouseDown",(function(e){e.preventDefault()})),(0,o.Z)(t,"onMouseUp",(function(e){e.preventDefault()})),t);return a.cloneElement(a.isValidElement(l)?l:a.createElement("span",null,l),s)}(x),w=c()(x,l,(0,o.Z)({},"".concat(x,"-").concat(m),!!m)),O=(0,r.Z)((0,r.Z)({},(0,C.Z)(v,["suffix","iconRender"])),{type:u?"text":"password",className:w,prefixCls:y,suffix:b});return m&&(O.size=m),a.createElement(d.ZP,(0,r.Z)({ref:n},O))};return a.createElement(l.C,null,m)}));b.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?a.createElement(x.Z,null):a.createElement(y,null)}};var w=b,O=t(11730),E=t(88834),P=t(87309),k=t(1815),j=t(61113),I=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};var N=a.forwardRef((function(e,n){var t,i,u=e.prefixCls,s=e.inputPrefixCls,f=e.className,p=e.size,m=e.suffix,h=e.enterButton,v=void 0!==h&&h,y=e.addonAfter,x=e.loading,C=e.disabled,Z=e.onSearch,g=e.onChange,b=e.onCompositionStart,w=e.onCompositionEnd,N=I(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),S=a.useContext(l.E_),z=S.getPrefixCls,M=S.direction,R=a.useContext(k.Z),_=a.useRef(!1),T=p||R,A=a.useRef(null),B=function(e){var n;document.activeElement===(null===(n=A.current)||void 0===n?void 0:n.input)&&e.preventDefault()},Q=function(e){var n,t;Z&&Z(null===(t=null===(n=A.current)||void 0===n?void 0:n.input)||void 0===t?void 0:t.value,e)},L=z("input-search",u),$=z("input",s),D="boolean"===typeof v?a.createElement(O.Z,null):null,U="".concat(L,"-button"),F=v||{},q=F.type&&!0===F.type.__ANT_BUTTON;i=q||"button"===F.type?(0,j.Tm)(F,(0,r.Z)({onMouseDown:B,onClick:function(e){var n,t;null===(t=null===(n=null===F||void 0===F?void 0:F.props)||void 0===n?void 0:n.onClick)||void 0===t||t.call(n,e),Q(e)},key:"enterButton"},q?{className:U,size:T}:{})):a.createElement(P.Z,{className:U,type:v?"primary":void 0,size:T,disabled:C,key:"enterButton",onMouseDown:B,onClick:Q,loading:x,icon:D},v),y&&(i=[i,(0,j.Tm)(y,{key:"addonAfter"})]);var V=c()(L,(t={},(0,o.Z)(t,"".concat(L,"-rtl"),"rtl"===M),(0,o.Z)(t,"".concat(L,"-").concat(T),!!T),(0,o.Z)(t,"".concat(L,"-with-button"),!!v),t),f);return a.createElement(d.ZP,(0,r.Z)({ref:(0,E.sQ)(A,n),onPressEnter:function(e){_.current||Q(e)}},N,{size:T,onCompositionStart:function(e){_.current=!0,null===b||void 0===b||b(e)},onCompositionEnd:function(e){_.current=!1,null===w||void 0===w||w(e)},prefixCls:$,addonAfter:i,suffix:m,onChange:function(e){e&&e.target&&"click"===e.type&&Z&&Z(e.target.value,e),g&&g(e)},className:V,disabled:C}))})),S=t(49355),z=d.ZP;z.Group=s,z.Search=N,z.TextArea=S.Z,z.Password=w;var M=z}}]);
//# sourceMappingURL=748.c0ec680a.chunk.js.map